---
import { FilmIcon } from 'lucide-react';
import { Image } from 'astro:assets';
import Container from '@/components/Container.astro';
import Database from '@/components/svg/Database.astro';
import BaseLayout from '@/layouts/BaseLayout.astro';
import ProfileAvatar from '@/assets/images/profile.jpg';

const modules = (await Astro.glob('../content/modules/*.json')).sort((a, b) => a.order - b.order) ;
---
<BaseLayout>
  <section class="bg-indigo-50/50 border-b border-indigo-100 overflow-hidden">
    <Container class="py-20 relative">
      <div class="flex flex-col gap-3 md:mr-44">
        <span class="text-sm bg-indigo-500 text-white inset-4 w-max px-2.5 py-0.5 font-medium rounded-full ring-[2px] ring-indigo-100">Taller gratis</span>
        <h1 class="text-3xl md:text-5xl font-bold text-balance">
          Construye y dise침a tus propias bases de datos con PostgreSQL desde cero.
        </h1>
        <p class="font-medium">
          Un taller a trav칠s de grabaciones donde podr치s aprender las bases fundamentales de las bases de datos, construir desde cero una base de datos, consultar y modificar informaci칩n, entre muchas cosas m치s.
        </p>
      </div>
      <Database
        class="absolute right-0 bottom-0 w-72 h-72 md:w-[22rem] md:h-[22rem] -mb-20 opacity-5 md:opacity-10 text-indigo-800"
      />
    </Container>
  </section>
  <section>
    <Container class="py-10">
      <div class="flex flex-col gap-2">
        <h2 class="text-2xl font-bold">Lecciones disponibles</h2>
        <p class="text-gray-600">M치s de <strong>16 horas de contenido</strong> dedicado a aprender a detalle sobre bases de datos. Cada una de las lecciones esta dise침ada para aquellos que nunca han trabajado con una base de datos y buscan incursionarse en el tema, lo puedan hacer sin complicaciones.</p>
      </div>
      <div class="grid md:grid-cols-2 gap-6 gap-y-4 md:gap-y-8 mt-8">
        {modules.map((module) => (
          <div class="flex flex-col bg-white border border-gray-200 rounded-xl overflow-hidden shadow-md shadow-gray-100">
            <div class="w-full px-4 py-3 flex-1">
              <h3 class="font-bold text-lg">{module.title}</h3>
            </div>
            <div class="flex items-center border-t border-gray-200 divide-x">
              {module.videos.map((video: any) => (
                <a href={video.url} rel="noreferrer" class="bg-white flex flex-grow-0 items-center gap-1 font-medium w-full px-4 py-2.5 hover:bg-gray-50">
                  <FilmIcon className="hidden md:block w-4" strokeWidth={1.25} />
                  <span class="text-sm">{video.title} ({video.duration})</span>
                </a>
              ))}
            </div>
          </div>
        ))}
    </Container>
  </section>
  <section class="border-y border-indigo-100">
    <Container class="py-16">
      <div class="flex flex-col gap-2.5">
        <h2 class="text-2xl font-bold">游눘 Apoya mi trabajo</h2>
        <p class="text-gray-700">
          Si te ha gustado el contenido considera apoyarme con una donaci칩n, o tambi칠n, puedes compartir conmigo tu retroalimentaci칩n para ayudarme a seguir mejorando y creando contenido de mayor calidad.
        </p>
      </div>
      <ul class="flex gap-5 gap-y-4 mt-3.5 flex-wrap">
        <li>
          <a class="font-semibold" href="https://donate.stripe.com/5kA3cTdjKfj00nKfZ9">
            <span>游눍 Ay칰dame con mis medicamentos</span>
          </a>
        </li>
        <li>
          <a class="font-semibold" href="mailto:db@coderdiaz.com">
            <span>游닎 Env칤ame tu feedback</span>
          </a>
        </li>
        <li>
          <a class="font-semibold" href="https://donate.stripe.com/14k00H6Vm3Ai6M8cMU">
            <span>游봀 Regalame una fruta (US$3.99)</span>
          </a>
        </li>
        <li>
          <a class="font-semibold" href="https://donate.stripe.com/5kAaFl2F68UC3zWdQZ">
            <span>游꺑 Inv칤tame un taco (US$5.99)</span>
          </a>
        </li>
        <li>
          <a class="font-semibold" href="https://donate.stripe.com/dR64gXenOgn44E0cMW">
            <span>游꼣 Inv칤tame una pizza (US$10.00)</span>
          </a>
        </li>
      </ul>
    </Container>
  </section>
  <section>
    <Container class="md:px-0">
      <div class="py-16 flex flex-col-reverse md:flex-row gap-12  md:gap-4 items-center">
        <div class="flex flex-col gap-4 md:w-[60rem] md:px-10 flex-grow">
          <h3 class="text-2xl font-bold">Hola!, Soy Javier Diaz</h3>
          <div class="relative flex flex-col gap-1.5 font-medium text-tones-900">
            <p>
              Un ingeniero de software mexicano que ha trabajado en diferentes startups, empresas, agencias y particulares construyendo productos y servicios para la web.
            </p>
            <p>
              Me gusta colaborar con personas y equipos para crear experiencias y productos fant치sticos que sean f치ciles de usar.
            </p>
            <p>
              En mi tiempo libre, usualmente podr치s encontrarme leyendo, viendo pel칤culas, jugando videojuegos o aprendiendo algo nuevo.
            </p>
            <span class="absolute left-0 -ml-10 mt-4 top-0 mb-0 hidden font-mono text-[12rem] text-tones-600 leading-none opacity-5 lg:flex">*</span>
          </div>
          <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-4">
            <a href="https://twitter.com/coderdiaz" rel="noreferrer" class="mt-2 px-6 py-2.5 text-center md:text-left md:w-max rounded-full bg-black text-white font-semibold transition hover:scale-105">
              S칤gueme en X
            </a>
            <a href="https://coderdiaz.com" rel="noreferrer" class="mt-2 px-6 py-2.5 text-center md:text-left md:w-max rounded-full text-black ring-4 ring-amber-100/50 bg-amber-400 font-semibold transition hover:bg-accent-100 hover:ring-amber-100 border border-amber-400">
              Visita mi sitio web
            </a>
          </div>
        </div>
        <div class="w-[16rem] md:w-[28rem] h-80 overflow-hidden shadow-xl bg-white p-3 pb-9 rotate-[4deg] border border-gray-100">
          <Image class="h-full w-full object-cover object-top pointer-events-none select-none" src={ProfileAvatar} alt="Avatar of Javier Diaz" />
        </div>
      </div>
    </Container>
  </section>
</BaseLayout>
